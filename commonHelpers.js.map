{"version":3,"file":"commonHelpers.js","sources":["../src/services/api.js","../src/requests/products.js","../src/services/markupService.js","../src/index.js"],"sourcesContent":["import axios from 'axios';\nconst apiInstance = axios.create({\n  baseURL: 'https://dummyjson.com',\n});\n\nexport default apiInstance;\n","import apiInstance from '../services/api.js';\n\nexport async function getAllProducts() {\n  const res = await apiInstance.get('/products');\n  return res.data.products;\n}\n\nexport async function queryApiProduct(query) {\n  const response = await apiInstance.get(`/products/${query}`);\n  return response.data;\n}\n\nexport async function sendProduct(productData) {\n  const data = await apiInstance.post('/products/add', productData);\n  return data;\n}\n","export function productTemplate(prod) {\n  const markup = `<div>\n    <img src=\"${prod.thumbnail}\" alt=\"${prod.title}\" />\n    <p>${prod.title}</p>\n      <p>${prod.description}</p>\n    <p>brand: ${prod.brand}</p>\n </div>`;\n  return markup;\n}\n\nexport function productsTemplates(products) {\n  return products.map(productTemplate).join('');\n}\n\nexport function newProductTemaplate({ title, description, price }) {\n  const markup = `<div>\n    <p>${title}</p>\n      <p>${description}</p>\n    <p>price: ${price}</p>\n </div>`;\n  return markup;\n}\n","import './styles/normalize.css';\nimport './styles/index.css';\n\nimport {\n  getAllProducts,\n  queryApiProduct,\n  sendProduct,\n} from './requests/products.js';\nimport {\n  productsTemplates,\n  productTemplate,\n  newProductTemaplate,\n} from './services/markupService.js';\n\n// getAllProducts().then(res => res.data);\n\nconst listProd = document.getElementById('allProducts');\n\nasync function render() {\n  const prod = await getAllProducts();\n  console.log(prod);\n\n  listProd.innerHTML = productsTemplates(prod);\n}\n\nrender();\n\nconst searchProductForm = document.querySelector('#singleProductForm');\nconst elemSingleProduct = document.querySelector('#singleProduct');\n\nsearchProductForm.addEventListener('submit', onFormSubmit);\n\nasync function onFormSubmit(evt) {\n  evt.preventDefault();\n  const query = evt.currentTarget.elements.id.value.trim();\n  const product = await queryApiProduct(query);\n  console.log(product);\n  const markup = productTemplate(product);\n\n  elemSingleProduct.innerHTML = markup;\n}\n\n// !--------------------- PushEax Task 3 ----------------\n\nconst newProductForm = document.querySelector('#newProductForm');\nconst newProductSection = document.querySelector('#newProductSection');\n\nnewProductForm.addEventListener('submit', newProductHandler);\n\nasync function newProductHandler(event) {\n  event.preventDefault();\n  const title = event.currentTarget.elements.title.value.trim();\n  const description = event.currentTarget.elements.description.value.trim();\n  const price = event.currentTarget.elements.price.value.trim();\n\n  const dataObject = {\n    title,\n    description,\n    price,\n  };\n\n  try {\n    await sendProduct(dataObject);\n    newProductSection.innerHTML = newProductTemaplate(dataObject);\n  } catch (error) {\n    newProductSection.innerHTML = `<p style=\"color: red\">${error}</p>`;\n  }\n}\n"],"names":["apiInstance","axios","getAllProducts","queryApiProduct","query","sendProduct","productData","productTemplate","prod","productsTemplates","products","newProductTemaplate","title","description","price","listProd","render","searchProductForm","elemSingleProduct","onFormSubmit","evt","product","markup","newProductForm","newProductSection","newProductHandler","event","dataObject","error"],"mappings":"svBACA,MAAMA,EAAcC,EAAM,OAAO,CAC/B,QAAS,uBACX,CAAC,ECDM,eAAeC,GAAiB,CAErC,OADY,MAAMF,EAAY,IAAI,WAAW,GAClC,KAAK,QAClB,CAEO,eAAeG,EAAgBC,EAAO,CAE3C,OADiB,MAAMJ,EAAY,IAAI,aAAaI,GAAO,GAC3C,IAClB,CAEO,eAAeC,EAAYC,EAAa,CAE7C,OADa,MAAMN,EAAY,KAAK,gBAAiBM,CAAW,CAElE,CCfO,SAASC,EAAgBC,EAAM,CAOpC,MANe;AAAA,gBACDA,EAAK,mBAAmBA,EAAK;AAAA,SACpCA,EAAK;AAAA,WACHA,EAAK;AAAA,gBACAA,EAAK;AAAA,QAGrB,CAEO,SAASC,EAAkBC,EAAU,CAC1C,OAAOA,EAAS,IAAIH,CAAe,EAAE,KAAK,EAAE,CAC9C,CAEO,SAASI,EAAoB,CAAE,MAAAC,EAAO,YAAAC,EAAa,MAAAC,CAAK,EAAI,CAMjE,MALe;AAAA,SACRF;AAAA,WACEC;AAAA,gBACKC;AAAA,QAGhB,CCLA,MAAMC,EAAW,SAAS,eAAe,aAAa,EAEtD,eAAeC,GAAS,CACtB,MAAMR,EAAO,MAAMN,IACnB,QAAQ,IAAIM,CAAI,EAEhBO,EAAS,UAAYN,EAAkBD,CAAI,CAC7C,CAEAQ,IAEA,MAAMC,EAAoB,SAAS,cAAc,oBAAoB,EAC/DC,EAAoB,SAAS,cAAc,gBAAgB,EAEjED,EAAkB,iBAAiB,SAAUE,CAAY,EAEzD,eAAeA,EAAaC,EAAK,CAC/BA,EAAI,eAAc,EAClB,MAAMhB,EAAQgB,EAAI,cAAc,SAAS,GAAG,MAAM,OAC5CC,EAAU,MAAMlB,EAAgBC,CAAK,EAC3C,QAAQ,IAAIiB,CAAO,EACnB,MAAMC,EAASf,EAAgBc,CAAO,EAEtCH,EAAkB,UAAYI,CAChC,CAIA,MAAMC,EAAiB,SAAS,cAAc,iBAAiB,EACzDC,EAAoB,SAAS,cAAc,oBAAoB,EAErED,EAAe,iBAAiB,SAAUE,CAAiB,EAE3D,eAAeA,EAAkBC,EAAO,CACtCA,EAAM,eAAc,EACpB,MAAMd,EAAQc,EAAM,cAAc,SAAS,MAAM,MAAM,OACjDb,EAAca,EAAM,cAAc,SAAS,YAAY,MAAM,OAC7DZ,EAAQY,EAAM,cAAc,SAAS,MAAM,MAAM,OAEjDC,EAAa,CACjB,MAAAf,EACA,YAAAC,EACA,MAAAC,CACJ,EAEE,GAAI,CACF,MAAMT,EAAYsB,CAAU,EAC5BH,EAAkB,UAAYb,EAAoBgB,CAAU,CAC7D,OAAQC,EAAP,CACAJ,EAAkB,UAAY,yBAAyBI,OACxD,CACH"}